"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[464],{4464:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var n=a(6540),r=a(7282),l=a(887),c=a(4977),o=a(7636),m=a(4073),s=a(9799),i=a(4635),d=a(8239),u=a(2241),E=a(3979);const y=({expensesByCategory:e})=>{const{budgets:t}=(0,r.Pj)(l.mj);return n.createElement(c.A,{className:"expenses-category-card"},n.createElement(o.A,null,n.createElement(m.A,{variant:"h5",component:"div"},"Expenses by Category"),n.createElement(s.A,null,e.map(((e,a)=>{const r=t[e.label]||0,l=e.value,c=r>0&&l>r,o=l-r;return n.createElement(i.Ay,{key:a,divider:!0},n.createElement(d.Ay,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between"},n.createElement(d.Ay,{item:!0,xs:5},n.createElement(u.A,{primary:e.label})),n.createElement(d.Ay,{item:!0,xs:5},c&&n.createElement(E.A,{badgeContent:`Overspent by $${o.toFixed(2)}`,color:"error",anchorOrigin:{vertical:"top",horizontal:"right"},overlap:"circular",style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}})),n.createElement(d.Ay,{item:!0,xs:2},n.createElement(E.A,{badgeContent:`$${e.value.toFixed(2)}`,color:"primary"}))))})))))};var p=a(2022);const A=({transactions:e})=>n.createElement(c.A,{className:"recent-transactions"},n.createElement(o.A,null,n.createElement(m.A,{variant:"h5",component:"div",className:"card-title"},"Recent Transactions"),n.createElement(s.A,null,e.map((e=>n.createElement(i.Ay,{key:e.id,className:"list-group-item",sx:{justifyContent:"space-between",alignItems:"center"}},n.createElement(u.A,{primary:e.description||"--"}),n.createElement(p.A,{label:`$${e.amount.toFixed(2)}`,color:"primary",variant:"outlined",className:"badge"})))))));var v=a(995),g=a(2931);const h=({data:e})=>n.createElement("div",null,n.createElement("h2",null,"Summary Pie Chart"),n.createElement(v.A,{direction:"row"},n.createElement(g.r,{series:[{paddingAngle:5,innerRadius:60,outerRadius:80,data:e}],margin:{right:5},width:200,height:200,legend:{hidden:!0}}))),x=({title:e,value:t})=>n.createElement(c.A,{variant:"outlined",sx:{boxShadow:1}},n.createElement(o.A,null,n.createElement(m.A,{variant:"h6",component:"div"},e),n.createElement(m.A,{variant:"body2"},t)));var b=a(7834),w=a(9502),f=a(9067);const $=()=>{const{expenses:e}=(0,r.Pj)(l.$L),{user:t}=(0,r.Pj)(l.nv),[a,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=o();c(e)}),[]);const o=()=>!localStorage.getItem("hasLoggedInBefore");(0,n.useEffect)((()=>{a&&localStorage.setItem("hasLoggedInBefore","true")}),[a]);const s=e.reduce(((e,t)=>e+t.amount),0),i=((e,t)=>{switch(t){case"weekly":return 52*e;case"monthly":return 12*e;default:return e}})(null==t?void 0:t.income,null==t?void 0:t.incomePeriod)-s,u=e.length,E=e=>e.reduce(((e,t)=>{const a=e.findIndex((e=>e.label.toLowerCase()===t.category.toLowerCase()));return-1!==a?e[a].value+=t.amount:e.push({label:t.category,value:t.amount}),e}),[]),p=e.slice(0,3),v=E(e);return n.createElement(b.A,{maxWidth:"xl",className:"dashboard-container"},n.createElement(m.A,{variant:"h2",gutterBottom:!0},"Dashboard"),a&&0===u?n.createElement(w.A,{severity:"info"},"Welcome! It looks like you don't have any data yet. Start by adding your expenses."):n.createElement(n.Fragment,null,n.createElement(d.Ay,{container:!0,spacing:3},n.createElement(d.Ay,{item:!0,xs:12,sm:6,md:3},n.createElement(x,{title:"Total Expenses",value:`$${s.toFixed(2)}`})),n.createElement(d.Ay,{item:!0,xs:12,sm:6,md:3},n.createElement(x,{title:`Income (${(null==t?void 0:t.incomePeriod)||"monthly"})`,value:`$${null==t?void 0:t.income}`})),n.createElement(d.Ay,{item:!0,xs:12,sm:6,md:3},n.createElement(x,{title:"Balance",value:`$${i.toFixed(2)}`})),n.createElement(d.Ay,{item:!0,xs:12,sm:6,md:3},n.createElement(x,{title:"Total Transactions",value:u}))),n.createElement(f.A,{my:4},n.createElement(h,{data:v})),n.createElement(d.Ay,{container:!0,spacing:4},n.createElement(d.Ay,{item:!0,xs:12,md:6},n.createElement(y,{expensesByCategory:E(e)})),n.createElement(d.Ay,{item:!0,xs:12,md:6},n.createElement(A,{transactions:p})))))}}}]);